version: "3.5"

services:
  catalogue:
    build: ./catalogue
    container_name: catalogue
    ports:
      - 8080:8080
    depends_on:
      - postgresql-catalogue

  postgresql-catalogue:
    build: ./catalogue/src/main/resource/postgresql-catalogue/
    container_name: postgresql-catalogue
    ports:
      - 5432:5432

  validation:
    build: ./validation
    container_name: validation
    ports:
      - 8081:8080

  deliveries:
    build: ./deliveries
    container_name: deliveries
    ports:
      - 8082:8080
    depends_on:
      - postgresql-deliveries

  postgresql-deliveries:
    build: ./deliveries/src/main/resource/postgresql-deliveries
    container_name: postgresql-deliveries
    ports:
      - 5433:5432
